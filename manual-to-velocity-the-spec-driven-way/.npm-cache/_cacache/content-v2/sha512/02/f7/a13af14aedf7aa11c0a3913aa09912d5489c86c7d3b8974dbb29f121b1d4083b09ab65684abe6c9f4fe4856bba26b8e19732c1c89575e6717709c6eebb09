{"_id":"magic-string-stack","_rev":"7-a7a7efc85f2cd6860a9999bb106905ed","name":"magic-string-stack","dist-tags":{"latest":"1.1.0"},"versions":{"0.0.0":{"name":"magic-string-stack","version":"0.0.0","keywords":[],"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","_id":"magic-string-stack@0.0.0","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"homepage":"https://github.com/antfu/magic-string-stack#readme","bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"dist":{"shasum":"36895a833f9a22cfdfb77fa48fa44f208b60f622","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-0.0.0.tgz","fileCount":8,"integrity":"sha512-BD913XaND4USmgt1LUSIeVaxhGsE/ApJ/jfrH+DnE2wEDdwoltMH4DXySwD1ouj4W7Ti04jP5PmsKxrzv5yr0w==","signatures":[{"sig":"MEUCIQD/Mv9GUAOFomgV6KPKQL6mOdedzJw+/qlFTisjEXndtQIgZD3M13MoE7qiF9WzNhpAmg1rpgmFVQknvOFo38ABmVQ=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":4786},"main":"./dist/index.mjs","type":"module","types":"./dist/index.d.ts","module":"./dist/index.mjs","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.mjs","require":"./dist/index.cjs"}},"funding":"https://github.com/sponsors/antfu","gitHead":"e3a399213757a07c8c391cf143c78b61ca53b8aa","scripts":{"dev":"unbuild --stub","lint":"eslint .","test":"vitest","build":"unbuild","start":"esno src/index.ts","prepare":"simple-git-hooks","release":"bumpp && npm publish","typecheck":"tsc --noEmit","prepublishOnly":"nr build"},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"repository":{"url":"git+https://github.com/antfu/magic-string-stack.git","type":"git"},"_npmVersion":"10.2.4","description":"Magic string stacking","directories":{},"lint-staged":{"*":"eslint --fix"},"sideEffects":false,"_nodeVersion":"20.11.1","typesVersions":{"*":{"*":["./dist/*","./dist/index.d.ts"]}},"_hasShrinkwrap":false,"packageManager":"pnpm@8.15.3","devDependencies":{"esno":"^4.0.0","pnpm":"^8.15.3","vite":"^5.1.4","bumpp":"^9.3.0","eslint":"^8.56.0","rimraf":"^5.0.5","vitest":"^1.3.1","unbuild":"^2.0.0","@antfu/ni":"^0.21.12","typescript":"^5.3.3","@types/node":"^20.11.19","lint-staged":"^15.2.2","@antfu/utils":"^0.7.7","simple-git-hooks":"^2.9.0","@antfu/eslint-config":"^2.6.4"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"_npmOperationalInternal":{"tmp":"tmp/magic-string-stack_0.0.0_1713277470141_0.7744519350275929","host":"s3://npm-registry-packages"}},"0.0.1":{"name":"magic-string-stack","version":"0.0.1","keywords":[],"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","_id":"magic-string-stack@0.0.1","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"homepage":"https://github.com/antfu/magic-string-stack#readme","bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"dist":{"shasum":"4e5f89885c5cadf3d39292132b7a75bac35fdaab","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-0.0.1.tgz","fileCount":8,"integrity":"sha512-ub/EtN3uP9veDfIu3HkD+m3eoVpuROrclFyFImb2GUp1rXreXngdfdvT0yAgD4MwuqOijK/2q4JwaZx5X0uTGg==","signatures":[{"sig":"MEUCIQDrXzCoxDJMi5vXkWyUpyhq13jDx23X0NYIeXytcGuX9gIgRr8k1GNYcw0f23cxi7e7+BGQC2nuzYbMcS5rTIY8QhU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":13897},"main":"./dist/index.mjs","type":"module","types":"./dist/index.d.ts","module":"./dist/index.mjs","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.mjs","require":"./dist/index.cjs"}},"funding":"https://github.com/sponsors/antfu","gitHead":"8773f54197d6a893c378ba1a78c79ccb5cfb0a70","scripts":{"dev":"unbuild --stub","lint":"eslint .","test":"vitest","build":"unbuild","start":"esno src/index.ts","prepare":"simple-git-hooks","release":"bumpp && npm publish","typecheck":"tsc --noEmit","prepublishOnly":"nr build"},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"repository":{"url":"git+https://github.com/antfu/magic-string-stack.git","type":"git"},"_npmVersion":"10.2.4","description":"magic-string with the capability of committing changes","directories":{},"lint-staged":{"*":"eslint --fix"},"sideEffects":false,"_nodeVersion":"20.11.1","dependencies":{"magic-string":"^0.30.9","@ampproject/remapping":"^2.3.0"},"typesVersions":{"*":{"*":["./dist/*","./dist/index.d.ts"]}},"_hasShrinkwrap":false,"packageManager":"pnpm@8.15.3","devDependencies":{"esno":"^4.0.0","pnpm":"^8.15.3","vite":"^5.1.4","bumpp":"^9.3.0","eslint":"^8.56.0","rimraf":"^5.0.5","vitest":"^1.3.1","unbuild":"^2.0.0","@antfu/ni":"^0.21.12","typescript":"^5.3.3","@types/node":"^20.11.19","lint-staged":"^15.2.2","@antfu/utils":"^0.7.7","simple-git-hooks":"^2.9.0","@antfu/eslint-config":"^2.6.4"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"_npmOperationalInternal":{"tmp":"tmp/magic-string-stack_0.0.1_1713283117719_0.9587850011461863","host":"s3://npm-registry-packages"}},"0.1.0":{"name":"magic-string-stack","version":"0.1.0","keywords":["magic-string","sourcemap"],"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","_id":"magic-string-stack@0.1.0","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"homepage":"https://github.com/antfu/magic-string-stack#readme","bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"dist":{"shasum":"3615047db6aeabef4f532f08dd078d37350d12d2","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-0.1.0.tgz","fileCount":8,"integrity":"sha512-T8jHkTVCnA/zFFtJ2JaxDmB+kT+YSKcXMzZlzuOWuxeFEZiPMxDBDEhzH/488OHL1uqbukeVWk48exikvLftpQ==","signatures":[{"sig":"MEYCIQDptDFVQaxaLAWBjs/CTrz0fn6CW/psQygziyHrRqN6qAIhAOutM+xoHYfCDOIY8SwhBt+NR8jFXrRLNKusIKb9Gb4L","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":17418},"main":"./dist/index.mjs","type":"module","types":"./dist/index.d.ts","module":"./dist/index.mjs","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.mjs","require":"./dist/index.cjs"}},"funding":"https://github.com/sponsors/antfu","gitHead":"1028d293b86a16fea9e10e46c0c434c8a556cc81","scripts":{"dev":"unbuild --stub","lint":"eslint .","test":"vitest","build":"unbuild","start":"esno src/index.ts","prepare":"simple-git-hooks","release":"bumpp && npm publish","typecheck":"tsc --noEmit","prepublishOnly":"nr build"},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"repository":{"url":"git+https://github.com/antfu/magic-string-stack.git","type":"git"},"_npmVersion":"10.2.4","description":"magic-string with the capability of committing changes","directories":{},"lint-staged":{"*":"eslint --fix"},"sideEffects":false,"_nodeVersion":"20.11.1","dependencies":{"magic-string":"^0.30.9","@ampproject/remapping":"^2.3.0"},"typesVersions":{"*":{"*":["./dist/*","./dist/index.d.ts"]}},"_hasShrinkwrap":false,"packageManager":"pnpm@9.0.1","devDependencies":{"esno":"^4.7.0","pnpm":"^9.0.1","vite":"^5.2.9","bumpp":"^9.4.0","eslint":"^9.0.0","rimraf":"^5.0.5","vitest":"^1.5.0","unbuild":"^2.0.0","@antfu/ni":"^0.21.12","typescript":"^5.4.5","@types/node":"^20.12.7","lint-staged":"^15.2.2","@antfu/utils":"^0.7.7","simple-git-hooks":"^2.11.1","@antfu/eslint-config":"^2.14.0"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"_npmOperationalInternal":{"tmp":"tmp/magic-string-stack_0.1.0_1713340802240_0.6800144363508172","host":"s3://npm-registry-packages"}},"0.1.1":{"name":"magic-string-stack","version":"0.1.1","keywords":["magic-string","sourcemap"],"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","_id":"magic-string-stack@0.1.1","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"homepage":"https://github.com/antfu/magic-string-stack#readme","bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"dist":{"shasum":"1f07e7c4d98b5ce7f8c9b4f959b9db32194e57b5","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-0.1.1.tgz","fileCount":8,"integrity":"sha512-TnOt1Dui/lM8Jrh7B+lGPPfNcczr6gUlFOJ8Calqs1KAuEn8NFab67vXz3F9cetX9YLJeQrEycjz2z0Wj90taw==","signatures":[{"sig":"MEQCIAtKheo7hWIXu4o9spNx/aPoBw+5oPZdXG1uUA9iK3NdAiAOmqBIPNn2+BYWZ3qL7oUvrrv+I5oXnKPtw2xshGUVUA==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":18107},"main":"./dist/index.mjs","type":"module","types":"./dist/index.d.ts","module":"./dist/index.mjs","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.mjs","require":"./dist/index.cjs"}},"funding":"https://github.com/sponsors/antfu","gitHead":"d7c45b4ae1a373b5b4d5b58f0cea49a64258233c","scripts":{"dev":"unbuild --stub","lint":"eslint .","test":"vitest","build":"unbuild","start":"esno src/index.ts","prepare":"simple-git-hooks","release":"bumpp && npm publish","typecheck":"tsc --noEmit","prepublishOnly":"nr build"},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"repository":{"url":"git+https://github.com/antfu/magic-string-stack.git","type":"git"},"_npmVersion":"10.2.4","description":"magic-string with the capability of committing changes","directories":{},"lint-staged":{"*":"eslint --fix"},"sideEffects":false,"_nodeVersion":"20.11.1","dependencies":{"magic-string":"^0.30.10","@ampproject/remapping":"^2.3.0"},"typesVersions":{"*":{"*":["./dist/*","./dist/index.d.ts"]}},"_hasShrinkwrap":false,"packageManager":"pnpm@9.0.1","devDependencies":{"esno":"^4.7.0","pnpm":"^9.0.1","vite":"^5.2.9","bumpp":"^9.4.0","eslint":"^9.0.0","rimraf":"^5.0.5","vitest":"^1.5.0","unbuild":"^2.0.0","@antfu/ni":"^0.21.12","typescript":"^5.4.5","@types/node":"^20.12.7","lint-staged":"^15.2.2","@antfu/utils":"^0.7.7","simple-git-hooks":"^2.11.1","@antfu/eslint-config":"^2.14.0"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"_npmOperationalInternal":{"tmp":"tmp/magic-string-stack_0.1.1_1713373368647_0.5216940363489222","host":"s3://npm-registry-packages"}},"0.1.2":{"name":"magic-string-stack","version":"0.1.2","keywords":["magic-string","sourcemap"],"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","_id":"magic-string-stack@0.1.2","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"homepage":"https://github.com/antfu/magic-string-stack#readme","bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"dist":{"shasum":"b0d7f8eeb040fbb81325c68bafcda66192b21927","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-0.1.2.tgz","fileCount":8,"integrity":"sha512-G3DWUMYZj7V+asSlsVIG6kH+U/zKTKiHIwkkJhDzZLVSRfkD3UCzVJ3+Y0N+cgPILPle+7R2SzLVPpM2Qz2G8A==","signatures":[{"sig":"MEYCIQDKPfBKOLKf2cqSv0JOCOnVjqeujl+9itjDUJYQJbIlCgIhAPkC0w/f+348I4tSfEsN/g8B1LKmI44L1NeDw/K9p2FY","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":17560},"main":"./dist/index.mjs","type":"module","types":"./dist/index.d.ts","module":"./dist/index.mjs","exports":{".":{"types":"./dist/index.d.ts","import":"./dist/index.mjs","require":"./dist/index.cjs"}},"funding":"https://github.com/sponsors/antfu","gitHead":"1c26308b42f343800f5434e03e4ea45f540a759d","scripts":{"dev":"unbuild --stub","lint":"eslint .","test":"vitest","build":"unbuild","start":"esno src/index.ts","prepare":"simple-git-hooks","release":"bumpp && npm publish","typecheck":"tsc --noEmit","prepublishOnly":"nr build"},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"repository":{"url":"git+https://github.com/antfu/magic-string-stack.git","type":"git"},"_npmVersion":"10.9.0","description":"magic-string with the capability of committing changes","directories":{},"lint-staged":{"*":"eslint --fix"},"sideEffects":false,"_nodeVersion":"22.12.0","dependencies":{"magic-string":"^0.30.17","@ampproject/remapping":"^2.3.0"},"typesVersions":{"*":{"*":["./dist/*","./dist/index.d.ts"]}},"_hasShrinkwrap":false,"packageManager":"pnpm@9.15.4","devDependencies":{"esno":"^4.8.0","pnpm":"^9.15.4","vite":"^6.0.11","bumpp":"^10.0.1","eslint":"^9.19.0","rimraf":"^6.0.1","vitest":"^3.0.4","unbuild":"^3.3.1","@antfu/ni":"^23.3.0","typescript":"^5.7.3","@types/node":"^22.12.0","lint-staged":"^15.4.3","@antfu/utils":"^8.1.0","simple-git-hooks":"^2.11.1","@antfu/eslint-config":"^4.1.0"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"_npmOperationalInternal":{"tmp":"tmp/magic-string-stack_0.1.2_1738131002434_0.0558218699774613","host":"s3://npm-registry-packages-npm-production"}},"1.0.0":{"name":"magic-string-stack","version":"1.0.0","keywords":["magic-string","sourcemap"],"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","_id":"magic-string-stack@1.0.0","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"homepage":"https://github.com/antfu/magic-string-stack#readme","bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"dist":{"shasum":"fa17a5b33a641fa0207297b5c850766d041ab36b","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-1.0.0.tgz","fileCount":6,"integrity":"sha512-oTPJ8IL5FdB4bhiLeBc7HzrK6cbtcHuZeaNK0Uim9wkl/PnVH1gYConD+dmqJTCyMJ5NlsvICHLPD+ItGsJzyA==","signatures":[{"sig":"MEYCIQC02RMrNnBVXKr+hYVJJ4DaeMsawvUYYmp7rCnWiw/7rQIhAMbI/ccySNa2j3ZrzxgIrGRxPMVA/14QSHSp6iq4cZ2/","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":12333},"main":"./dist/index.mjs","type":"module","_from":"file:magic-string-stack-1.0.0.tgz","types":"./dist/index.d.mts","module":"./dist/index.mjs","exports":{".":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"}},"funding":"https://github.com/sponsors/antfu","scripts":{"dev":"unbuild --stub","lint":"eslint .","test":"vitest","build":"unbuild","start":"esno src/index.ts","release":"bumpp && pnpm publish","typecheck":"tsc --noEmit"},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"_resolved":"/private/var/folders/30/nymxcyb909ggq2j5lwn7b_600000gn/T/cac144e8757a1d4083dac91e0170b05a/magic-string-stack-1.0.0.tgz","_integrity":"sha512-oTPJ8IL5FdB4bhiLeBc7HzrK6cbtcHuZeaNK0Uim9wkl/PnVH1gYConD+dmqJTCyMJ5NlsvICHLPD+ItGsJzyA==","repository":{"url":"git+https://github.com/antfu/magic-string-stack.git","type":"git"},"_npmVersion":"10.9.0","description":"magic-string with the capability of committing changes","directories":{},"lint-staged":{"*":"eslint --fix"},"sideEffects":false,"_nodeVersion":"22.12.0","dependencies":{"magic-string":"^0.30.17","@ampproject/remapping":"^2.3.0"},"_hasShrinkwrap":false,"devDependencies":{"esno":"^4.8.0","pnpm":"^9.15.4","vite":"^6.0.11","bumpp":"^10.0.1","eslint":"^9.19.0","rimraf":"^6.0.1","vitest":"^3.0.4","unbuild":"^3.3.1","@antfu/ni":"^23.3.0","typescript":"^5.7.3","@types/node":"^22.12.0","lint-staged":"^15.4.3","@antfu/utils":"^8.1.0","simple-git-hooks":"^2.11.1","@antfu/eslint-config":"^4.1.0"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"_npmOperationalInternal":{"tmp":"tmp/magic-string-stack_1.0.0_1738131120775_0.7642953110373347","host":"s3://npm-registry-packages-npm-production"}},"1.1.0":{"name":"magic-string-stack","type":"module","version":"1.1.0","description":"magic-string with the capability of committing changes","author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","funding":"https://github.com/sponsors/antfu","homepage":"https://github.com/antfu/magic-string-stack#readme","repository":{"type":"git","url":"git+https://github.com/antfu/magic-string-stack.git"},"bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"keywords":["magic-string","sourcemap"],"sideEffects":false,"exports":{".":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"}},"main":"./dist/index.mjs","module":"./dist/index.mjs","types":"./dist/index.d.mts","dependencies":{"@jridgewell/remapping":"^2.3.5","magic-string":"^0.30.17"},"devDependencies":{"@antfu/eslint-config":"^5.2.1","@antfu/ni":"^25.0.0","@antfu/utils":"^9.2.0","@types/node":"^24.2.1","bumpp":"^10.2.3","eslint":"^9.33.0","esno":"^4.8.0","lint-staged":"^16.1.5","pnpm":"^10.14.0","rimraf":"^6.0.1","simple-git-hooks":"^2.13.1","typescript":"^5.9.2","unbuild":"^3.6.0","vite":"^7.1.2","vitest":"^3.2.4"},"simple-git-hooks":{"pre-commit":"pnpm lint-staged"},"lint-staged":{"*":"eslint --fix"},"scripts":{"build":"unbuild","dev":"unbuild --stub","lint":"eslint .","release":"bumpp && pnpm publish","start":"esno src/index.ts","test":"vitest","typecheck":"tsc --noEmit"},"_id":"magic-string-stack@1.1.0","_integrity":"sha512-eAjQQ16Woyi71/6gQoLvn9Mte0JDoS5zUV/BMk0Pzs8Fou+nEuo5T0UbLWBhm3mXiK2YnFz2lFpEEVcLcohhVw==","_resolved":"/private/var/folders/30/nymxcyb909ggq2j5lwn7b_600000gn/T/978f672c870dc68ed2203d1cf4a121f1/magic-string-stack-1.1.0.tgz","_from":"file:magic-string-stack-1.1.0.tgz","_nodeVersion":"22.13.1","_npmVersion":"10.9.2","dist":{"integrity":"sha512-eAjQQ16Woyi71/6gQoLvn9Mte0JDoS5zUV/BMk0Pzs8Fou+nEuo5T0UbLWBhm3mXiK2YnFz2lFpEEVcLcohhVw==","shasum":"a3d092bbe5805eec49604281244829c0d957c231","tarball":"https://registry.npmjs.org/magic-string-stack/-/magic-string-stack-1.1.0.tgz","fileCount":6,"unpackedSize":12332,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEQCIACQmJZrN8RSu8/7qKwupJ9bHhvCzEVAI9YCN8CUPUVdAiAZQwxJkY7ip4Oamqk5TLt3VncX8fuMJEFuINfnYoqODg=="}]},"_npmUser":{"name":"antfu","email":"anthonyfu117@hotmail.com"},"directories":{},"maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/magic-string-stack_1.1.0_1755147056380_0.1627959370709564"},"_hasShrinkwrap":false}},"time":{"created":"2024-04-16T14:24:30.139Z","modified":"2025-08-14T04:50:56.751Z","0.0.0":"2024-04-16T14:24:30.281Z","0.0.1":"2024-04-16T15:58:37.869Z","0.1.0":"2024-04-17T08:00:02.477Z","0.1.1":"2024-04-17T17:02:48.834Z","0.1.2":"2025-01-29T06:10:02.598Z","1.0.0":"2025-01-29T06:12:00.981Z","1.1.0":"2025-08-14T04:50:56.546Z"},"bugs":{"url":"https://github.com/antfu/magic-string-stack/issues"},"author":{"name":"Anthony Fu","email":"anthonyfu117@hotmail.com"},"license":"MIT","homepage":"https://github.com/antfu/magic-string-stack#readme","keywords":["magic-string","sourcemap"],"repository":{"type":"git","url":"git+https://github.com/antfu/magic-string-stack.git"},"description":"magic-string with the capability of committing changes","maintainers":[{"name":"antfu","email":"anthonyfu117@hotmail.com"}],"readme":"# magic-string-stack\n\n[![npm version][npm-version-src]][npm-version-href]\n[![npm downloads][npm-downloads-src]][npm-downloads-href]\n[![bundle][bundle-src]][bundle-href]\n[![JSDocs][jsdocs-src]][jsdocs-href]\n[![License][license-src]][license-href]\n\n[`magic-string`](https://github.com/rich-harris/magic-string) with the capability of committing changes.\n\nOne of the great features of MagicString is that it always relates to the original string positions. However, in some cases, you want to make changes on top of the previously changed string. Usually, you will need to create a new `MagicString` instance and apply the changes again, which then will end up with multiple sourcemaps that you also need to combine manually. This package makes it magically work on a single instance and generate a single auto-combined sourcemap.\n\nThis package extends `MagicString` class by adding two methods `.commit()` and `.rollback()`. Under the hood, it also proxies all the operations methods.\n\n## Usage\n\n### `.commit()`\n\nCommit all the changes made so far to MagicString. `s.original` will become the current transformed result. And the positions will now be based on the new string. Under the hood, it creates a new `MagicString` instance and swaps all the methods to the new instance.\n\n### `.rollback()`\n\nRollback to the state before the last commit. It throws an error if there is no previous commit.\n\n### `.generateMap()`\n\nSupercharge the original `generateMap` method. Where there are multiple commits, it will generate a combined sourcemap using [`@jridgewell/remapping`](https://github.com/jridgewell/remapping).\n\n### Example\n\n```ts\nimport MagicStringStack from 'magic-string-stack'\n\nconst s = new MagicStringStack('problems = 99')\n\ns.replace('problems', 'issues')\n  .prepend('var ')\n\ns.toString() // 'var issues = 99'\ns.original // 'problems = 99' (original string)\n\ns.commit() // this will commit the changes\n\ns.original // 'var issues = 99' (applied with previous changes)\ns.replace('issues', 'problems')\ns.toString() // 'var problems = 99'\n\ns.generateMap() // generate sourcemap, if multiple commits happened, it will generate a combined sourcemap\n```\n\n## Sponsors\n\n<p align=\"center\">\n  <a href=\"https://cdn.jsdelivr.net/gh/antfu/static/sponsors.svg\">\n    <img src='https://cdn.jsdelivr.net/gh/antfu/static/sponsors.svg'/>\n  </a>\n</p>\n\n## License\n\n[MIT](./LICENSE) License © 2023-PRESENT [Anthony Fu](https://github.com/antfu)\n\n<!-- Badges -->\n\n[npm-version-src]: https://img.shields.io/npm/v/magic-string-stack?style=flat&colorA=080f12&colorB=1fa669\n[npm-version-href]: https://npmjs.com/package/magic-string-stack\n[npm-downloads-src]: https://img.shields.io/npm/dm/magic-string-stack?style=flat&colorA=080f12&colorB=1fa669\n[npm-downloads-href]: https://npmjs.com/package/magic-string-stack\n[bundle-src]: https://img.shields.io/bundlephobia/minzip/magic-string-stack?style=flat&colorA=080f12&colorB=1fa669&label=minzip\n[bundle-href]: https://bundlephobia.com/result?p=magic-string-stack\n[license-src]: https://img.shields.io/github/license/antfu/magic-string-stack.svg?style=flat&colorA=080f12&colorB=1fa669\n[license-href]: https://github.com/antfu/magic-string-stack/blob/main/LICENSE\n[jsdocs-src]: https://img.shields.io/badge/jsdocs-reference-080f12?style=flat&colorA=080f12&colorB=1fa669\n[jsdocs-href]: https://www.jsdocs.io/package/magic-string-stack\n","readmeFilename":"README.md"}